<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Categories - Stacked Cards Swipe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .card-stack {
            perspective: 1000px;
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 550px;
            margin: 0 auto;
        }

        .category-card {
            position: absolute;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            cursor: grab;
            user-select: none;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
        }

        .category-card:active {
            cursor: grabbing;
        }

        .category-card.dragging {
            transition: none;
            z-index: 100 !important;
        }

        .category-card.swiped-left {
            transform: translateX(-150%) rotate(-30deg);
            opacity: 0;
        }

        .category-card.swiped-right {
            transform: translateX(150%) rotate(30deg);
            opacity: 0;
        }

        .category-card.removed {
            display: none;
        }

        /* Stacked cards effect */
        .card-stack .category-card:nth-child(1) {
            z-index: 10;
            transform: scale(1) translateY(0) rotate(0deg);
        }

        .card-stack .category-card:nth-child(2) {
            z-index: 9;
            transform: scale(0.95) translateY(-15px) rotate(-2deg);
            filter: brightness(0.95);
        }

        .card-stack .category-card:nth-child(3) {
            z-index: 8;
            transform: scale(0.90) translateY(-30px) rotate(1deg);
            filter: brightness(0.90);
        }

        .card-stack .category-card:nth-child(4) {
            z-index: 7;
            transform: scale(0.85) translateY(-45px) rotate(-1deg);
            filter: brightness(0.85);
        }

        .card-stack .category-card:nth-child(n+5) {
            z-index: 6;
            transform: scale(0.80) translateY(-60px) rotate(0deg);
            filter: brightness(0.80);
            opacity: 0.5;
        }

        .card-image {
            width: 100%;
            height: 360px;
            object-fit: cover;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .card-content {
            padding: 28px;
            position: relative;
        }

        .category-title {
            font-size: 24px;
            font-weight: 800;
            color: #1a202c;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: -0.5px;
        }

        .category-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ff6a00 0%, #ee0979 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 16px;
        }

        .view-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #ff6a00;
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 106, 0, 0.4);
        }

        .view-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 106, 0, 0.6);
        }

        .swipe-hint {
            position: absolute;
            bottom: -70px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 40px;
            align-items: center;
        }

        .swipe-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .swipe-icon.skip {
            background: white;
            color: #ff6a00;
        }

        .swipe-icon.like {
            background: #ff6a00;
            color: white;
        }

        .swipe-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .progress-indicator {
            text-align: center;
            color: white;
            font-size: 16px;
            font-weight: 600;
            margin-top: 100px;
        }

        .progress-dots {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 12px;
        }

        .progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background: white;
            width: 30px;
            border-radius: 5px;
        }

        .restart-button {
            background: white;
            color: #ff6a00;
            padding: 14px 32px;
            border-radius: 30px;
            font-weight: 700;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            display: none;
            margin: 30px auto 0;
        }

        .restart-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .all-done-message {
            text-align: center;
            color: white;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .all-done-message h2 {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 16px;
        }

        .all-done-message p {
            font-size: 20px;
            opacity: 0.9;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-header {
            text-align: center;
            color: white;
            padding: 60px 20px 40px;
        }

        .section-header h1 {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 12px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .section-header p {
            font-size: 18px;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .card-stack {
                max-width: 340px;
                height: 500px;
            }

            .card-image {
                height: 320px;
            }

            .card-content {
                padding: 20px;
            }

            .category-title {
                font-size: 20px;
            }

            .section-header h1 {
                font-size: 36px;
            }

            .section-header p {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Section Header -->
    <div class="section-header">
        <h1>Explore Our Categories</h1>
        <p>Swipe right to view, left to skip. Discover the perfect inflatable for your needs.</p>
    </div>

    <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px 120px;">
        <!-- Card Stack Container -->
        <div class="card-stack" id="cardStack">
            <!-- Cards will be generated by JavaScript -->
        </div>

        <!-- Swipe Action Buttons -->
        <div class="swipe-hint">
            <div class="swipe-icon skip" onclick="swipeCard('left')" title="Skip">
                <span>✕</span>
            </div>
            <div class="swipe-icon like" onclick="swipeCard('right')" title="View Category">
                <span>❤</span>
            </div>
        </div>

        <!-- Progress Indicator -->
        <div class="progress-indicator">
            <div id="progressText">Category <span id="currentCard">1</span> of <span id="totalCards">14</span></div>
            <div class="progress-dots" id="progressDots"></div>
        </div>

        <!-- All Done Message -->
        <div class="all-done-message" id="allDoneMessage">
            <h2>All Done!</h2>
            <p>You've explored all our categories</p>
            <button class="restart-button" onclick="restartCards()">View Again</button>
        </div>
    </div>

    <script>
        // Categories data
        const categories = [
            {
                name: "COMMERCIAL UNITS",
                image: "category-images/res_icon_2021-1.jpg",
                badge: "Professional Grade"
            },
            {
                name: "LIGHT-COMMERCIAL UNITS",
                image: "category-images/res_icon_2021-1.jpg",
                badge: "Best Seller"
            },
            {
                name: "OPEN BOX PRODUCTS",
                image: "category-images/open_box_image-1.jpg",
                badge: "Great Deals"
            },
            {
                name: "CLEARANCE SALE",
                image: "category-images/clearance_sale.jpg",
                badge: "Limited Stock"
            },
            {
                name: "BOUNCERS 13 x 13",
                image: "category-images/Bouncer_13-150x150-1-1.jpg",
                badge: "Popular"
            },
            {
                name: "BOUNCERS 15×15",
                image: "category-images/Bouncer_13-150x150-1-1.jpg",
                badge: "Spacious"
            },
            {
                name: "WATER SLIDES",
                image: "category-images/water_slide-150x150-2.jpg",
                badge: "Summer Fun"
            },
            {
                name: "COMBO UNITS",
                image: "category-images/combo-150x150-2.jpg",
                badge: "Best Value"
            },
            {
                name: "PACKAGE DEALS",
                image: "category-images/package_deals-1.jpg",
                badge: "Save More"
            },
            {
                name: "SLIDES & OBSTACLES",
                image: "category-images/slide_obstacle-150x150-2.jpg",
                badge: "Action Packed"
            },
            {
                name: "SPORTS & GAMES",
                image: "category-images/sports_games-150x150-2.jpg",
                badge: "Interactive"
            },
            {
                name: "LIGHT-COMMERCIAL BOUNCERS",
                image: "category-images/Bouncer_13-150x150-1-1.jpg",
                badge: "Durable"
            },
            {
                name: "MODULAR ART PANELS",
                image: "category-images/art_panel-2022-150x150-2-1.jpg",
                badge: "Unique"
            },
            {
                name: "ACCESSORIES",
                image: "category-images/accessories-150x150-2.jpg",
                badge: "Complete Setup"
            }
        ];

        let currentIndex = 0;
        let startX = 0;
        let currentX = 0;
        let isDragging = false;
        let currentCard = null;

        // Initialize cards
        function initCards() {
            const cardStack = document.getElementById('cardStack');
            cardStack.innerHTML = '';

            categories.forEach((category, index) => {
                const card = document.createElement('div');
                card.className = 'category-card';
                card.dataset.index = index;
                card.innerHTML = `
                    <img src="${category.image}" alt="${category.name}" class="card-image" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22360%22%3E%3Crect fill=%22%23f0f0f0%22 width=%22400%22 height=%22360%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22Arial%22 font-size=%2220%22 fill=%22%23999%22%3E${category.name}%3C/text%3E%3C/svg%3E'">
                    <div class="card-content">
                        <div class="category-badge">${category.badge}</div>
                        <h3 class="category-title">${category.name}</h3>
                        <button class="view-button" onclick="viewCategory('${category.name}')">
                            View Products
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
                            </svg>
                        </button>
                    </div>
                `;

                // Add touch and mouse event listeners
                card.addEventListener('mousedown', handleDragStart);
                card.addEventListener('touchstart', handleDragStart);

                cardStack.appendChild(card);
            });

            currentIndex = 0;
            updateProgress();
            initProgressDots();

            // Hide all done message
            document.getElementById('allDoneMessage').style.display = 'none';
            document.querySelector('.restart-button').style.display = 'none';
        }

        // Initialize progress dots
        function initProgressDots() {
            const dotsContainer = document.getElementById('progressDots');
            dotsContainer.innerHTML = '';

            categories.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.className = 'progress-dot';
                if (index === 0) dot.classList.add('active');
                dotsContainer.appendChild(dot);
            });
        }

        // Update progress
        function updateProgress() {
            document.getElementById('currentCard').textContent = currentIndex + 1;
            document.getElementById('totalCards').textContent = categories.length;

            // Update progress dots
            const dots = document.querySelectorAll('.progress-dot');
            dots.forEach((dot, index) => {
                if (index === currentIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // Handle drag start
        function handleDragStart(e) {
            if (currentIndex >= categories.length) return;

            const cards = document.querySelectorAll('.category-card');
            currentCard = cards[currentIndex];

            if (!currentCard) return;

            isDragging = true;
            currentCard.classList.add('dragging');
            startX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;

            document.addEventListener('mousemove', handleDragMove);
            document.addEventListener('touchmove', handleDragMove);
            document.addEventListener('mouseup', handleDragEnd);
            document.addEventListener('touchend', handleDragEnd);
        }

        // Handle drag move
        function handleDragMove(e) {
            if (!isDragging || !currentCard) return;

            e.preventDefault();
            currentX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
            const deltaX = currentX - startX;
            const rotation = deltaX / 20;

            currentCard.style.transform = `translateX(${deltaX}px) rotate(${rotation}deg)`;
            currentCard.style.opacity = 1 - Math.abs(deltaX) / 400;
        }

        // Handle drag end
        function handleDragEnd(e) {
            if (!isDragging || !currentCard) return;

            const deltaX = currentX - startX;
            const threshold = 100;

            if (Math.abs(deltaX) > threshold) {
                // Swipe detected
                if (deltaX > 0) {
                    swipeCard('right');
                } else {
                    swipeCard('left');
                }
            } else {
                // Return to original position
                currentCard.style.transform = '';
                currentCard.style.opacity = '';
            }

            isDragging = false;
            currentCard.classList.remove('dragging');

            document.removeEventListener('mousemove', handleDragMove);
            document.removeEventListener('touchmove', handleDragMove);
            document.removeEventListener('mouseup', handleDragEnd);
            document.removeEventListener('touchend', handleDragEnd);
        }

        // Swipe card
        function swipeCard(direction) {
            if (currentIndex >= categories.length) return;

            const cards = document.querySelectorAll('.category-card');
            const card = cards[currentIndex];

            if (!card) return;

            // Apply swipe animation
            if (direction === 'left') {
                card.classList.add('swiped-left');
            } else {
                card.classList.add('swiped-right');
                // If swiped right, simulate viewing the category
                setTimeout(() => {
                    console.log('Viewing category:', categories[currentIndex].name);
                }, 200);
            }

            // Remove card after animation
            setTimeout(() => {
                card.classList.add('removed');
                currentIndex++;
                updateProgress();

                // Check if all cards are done
                if (currentIndex >= categories.length) {
                    showAllDoneMessage();
                }
            }, 300);
        }

        // View category
        function viewCategory(categoryName) {
            console.log('Viewing category:', categoryName);
            alert(`Viewing category: ${categoryName}\n\nThis would navigate to the category page.`);
            swipeCard('right');
        }

        // Show all done message
        function showAllDoneMessage() {
            setTimeout(() => {
                document.querySelector('.progress-indicator').style.display = 'none';
                document.querySelector('.swipe-hint').style.display = 'none';
                document.getElementById('allDoneMessage').style.display = 'block';
                document.querySelector('.restart-button').style.display = 'block';
            }, 500);
        }

        // Restart cards
        function restartCards() {
            document.querySelector('.progress-indicator').style.display = 'block';
            document.querySelector('.swipe-hint').style.display = 'flex';
            initCards();
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            initCards();
        });
    </script>
</body>
</html>